webpackJsonp([2,0],{0:function(e,t,n){n(94),e.exports=n(36)},35:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),r=s(a),o=n(21),u=s(o);t.default={getAnswer:function(e){var t=this;return(0,u.default)(r.default.mark(function n(){var s,a,o;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=new window.FormData,s.set("q",e),t.next=4,window.fetch("/api/get-answer",{method:"POST",body:s});case 4:return a=t.sent,t.next=7,a.json();case 7:if(o=t.sent,o.ok){t.next=10;break}throw new Error(o.error);case 10:return t.abrupt("return",o);case 11:case"end":return t.stop()}},n,t)}))()}}},36:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}var a=n(93),r=s(a),o=n(83),u=s(o);new r.default({el:"#app",render:function(e){return e(u.default)}})},37:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(84),r=s(a);t.default={name:"app",components:{Chat:r.default}}},38:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),r=s(a),o=n(20),u=s(o),i=n(21),c=s(i),f=n(86),d=s(f),l=n(85),p=s(l),g=n(35),v=s(g);t.default={name:"chat",components:{ChatLog:d.default,ChatInput:p.default},props:["sound","delay"],data:function(){return{message:"",log:[],typing:!1}},methods:{handle:function(){var e=this;return(0,c.default)(r.default.mark(function t(){var n,s,a;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=function(e){return new u.default(function(t){return setTimeout(t,e)})},s=e.message,e.message="",e.log.push({a:s,isOutgoing:!0}),e.typing=!0,!e.delay){t.next=8;break}return t.next=8,n(1e3);case 8:return e.typing=!1,t.next=11,v.default.getAnswer(s);case 11:a=t.sent,e.log.push(a),e.sound&&e.$refs.notify.play();case 14:case"end":return t.stop()}},t,e)}))()}}}},39:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"chatInput",props:["value"],data:function(){return{message:""}},methods:{handleInput:function(e){this.message=e.target.value,this.$emit("input",this.message)},handleSend:function(){this.$emit("send")}},watch:{value:function(){this.message=this.value}}}},40:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(87),r=s(a);t.default={name:"chatLog",components:{ChatMessage:r.default},props:["log"],watch:{log:function(){var e=this;this.$nextTick(function(){var t=e.$refs.scroll;t.scrollTop=t.scrollHeight-t.clientHeight})}}}},41:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"chatMessage",props:["message"]}},75:function(e,t){},76:function(e,t){},77:function(e,t){},78:function(e,t){},79:function(e,t){},83:function(e,t,n){var s,a;n(79),s=n(37);var r=n(92);a=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(a=s=s.default),"function"==typeof a&&(a=a.options),a.render=r.render,a.staticRenderFns=r.staticRenderFns,e.exports=s},84:function(e,t,n){var s,a;n(76),s=n(38);var r=n(89);a=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(a=s=s.default),"function"==typeof a&&(a=a.options),a.render=r.render,a.staticRenderFns=r.staticRenderFns,e.exports=s},85:function(e,t,n){var s,a;n(75),s=n(39);var r=n(88);a=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(a=s=s.default),"function"==typeof a&&(a=a.options),a.render=r.render,a.staticRenderFns=r.staticRenderFns,e.exports=s},86:function(e,t,n){var s,a;n(77),s=n(40);var r=n(90);a=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(a=s=s.default),"function"==typeof a&&(a=a.options),a.render=r.render,a.staticRenderFns=r.staticRenderFns,e.exports=s},87:function(e,t,n){var s,a;n(78),s=n(41);var r=n(91);a=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(a=s=s.default),"function"==typeof a&&(a=a.options),a.render=r.render,a.staticRenderFns=r.staticRenderFns,e.exports=s},88:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"chatInput input-group input-group-lg"},[n("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Введите сообщение"},domProps:{value:e.message},on:{input:e.handleInput,keyup:function(t){e._k(t.keyCode,"enter",13)||e.handleSend(t)}}}),e._v(" "),n("span",{staticClass:"input-group-btn"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:""==e.message},on:{click:e.handleSend}},[n("span",{staticClass:"glyphicon glyphicon-send leftFix"})])])])},staticRenderFns:[]}},89:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"chat"},[n("chatLog",{attrs:{log:e.log}},[n("div",{staticClass:"typing"},[e.typing?n("span",[e._v("Шушпанчик печатает..")]):e._e()])]),e._v(" "),n("chatInput",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],domProps:{value:e.message},on:{send:e.handle,input:function(t){e.message=t}}}),e._v(" "),n("audio",{ref:"notify"},[n("source",{attrs:{src:"/static/notify.mp3",type:"audio/mpeg"}})])],1)},staticRenderFns:[]}},90:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"scroll",staticClass:"chatLog"},[e._l(e.log,function(e){return n("chatMessage",{attrs:{message:e}})}),e._v(" "),e._t("default")],2)},staticRenderFns:[]}},91:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"chatMessage",class:{outgoing:e.message.isOutgoing}},[n("img"),e._v(" "),n("div",{staticClass:"message"},[e._v(e._s(e.message.a))]),e._v(" "),n("div",{staticClass:"clearfix"})])},staticRenderFns:[]}},92:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("chat",{attrs:{delay:!0,sound:!0}})],1)},staticRenderFns:[]}}});
//# sourceMappingURL=app.b9fe1c8e263265ee4a26.js.map